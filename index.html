<!DOCTYPE html>
<meta charset="utf-8">

<html>
<head>
<title>Arlington Demographics</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://dimplejs.org/dist/dimple.v2.1.6.min.js"></script>

<style>
#PieChart {    
	float: left;
	top:10px;
	left:10px;
	width:35%;
	height:400px;
	background-color: rgb(252,245,223);
}
#PieLegend {
padding: 1.5em 0 0 1.5em;
    border-top-width: 15px;
    border-top-style: solid;
    font-size: .75em;
    width: 10%;
    padding-left: 0;
    padding-right: 0;
}
</style>
<div id="PieChart"><div id="PieLegend"></div></div>
<script type="text/javascript">
// In version 1.1.0 it's possible to initialise any size parameter with a
        // % value as well as pixels
        var svgPie = dimple.newSvg("#PieChart", "100%", "100%");
		var PieChart;
            d3.csv("https://raw.githubusercontent.com/dfieldsarlington/test/gh-pages/race.csv", function (data) {
		dimple.filterData(data, "Race Year", "1960");
		var PieChart = new dimple.chart(svgPie, data);
		PieChart.addMeasureAxis("p", "Race Percent");
		var ring = PieChart.addSeries("Race", dimple.plot.pie);
		ring.innerRadius = "50%";
		var PieLegend = PieChart.addLegend ("#PieLegend", 50%, 50%);
		// Create a storyboard for Race Year
		var PieStoryboard = PieChart.setStoryboard("Race");
		PieStoryboard.categoryFields = ["Race Year"];
		PieChart.draw();
                    });
        

    </script>
</html>