<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://dimplejs.org/dist/dimple.v2.1.6.min.js"></script>

<style>
#ScatterChart {    
	float: left;
	top:10px;
	left:10px;
	width:60%;
	height: 600px;
	background-color: rgb(252,245,223);
}
</style>
</head>
<body>
<div id="ScatterChart"></div>
   <script type="text/javascript">
    var svg = dimple.newSvg("#ScatterChart", 590, 400);
      d3.csv("https://raw.githubusercontent.com/dfieldsarlington/demographics/gh-pages/households2.csv", function (data) {
        
        // Filter the data for a single channel
        data = dimple.filterData(data, "Year");
        
        // Create the chart
        var myChart = new dimple.chart(svg, data);
        myChart.setBounds(60, 30, 470, 300)
        
        // Add an x and 2 y-axes.  When using multiple axes it's
        // important to assign them to variables to pass to the series
        var x = myChart.addCategoryAxis("x", "Year");
        var y1 = myChart.addMeasureAxis("y", "Number of Households");
        var y2 = myChart.addMeasureAxis("y", "Average Household Size");

        // Color the sales bars to be highly transparent
        myChart.assignColor("Number of Households", "#222222", "#000000", 0.1);
        
        // Add the bars mapped to the second y axis
        myChart.addSeries("Average Household Size", dimple.plot.bar, [x, y2]);
        
        // Add series for minimum, average and maximum price
        var min = myChart.addSeries("Min", dimple.plot.bubble, [x, y1]);
        min.aggregate = dimple.aggregateMethod.min;
        var avg = myChart.addSeries("Avg", dimple.plot.bubble, [x, y1]);
        avg.aggregate = dimple.aggregateMethod.avg;
        var max = myChart.addSeries("Max", dimple.plot.bubble, [x, y1]);
        max.aggregate = dimple.aggregateMethod.max;
        
        myChart.draw();
      });
  </script>
  </body>
  </html>